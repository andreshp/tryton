%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Plantilla básica de Latex en Español.
%
% Autor: Andrés Herrera Poyatos (https://github.com/andreshp)
%
% Es una plantilla básica para redactar documentos. Utiliza el paquete fancyhdr para darle un
% estilo moderno pero serio.
%
% La plantilla se encuentra adaptada al español.
%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%-----------------------------------------------------------------------------------------------------
%	INCLUSIÓN DE PAQUETES BÁSICOS
%-----------------------------------------------------------------------------------------------------

\documentclass{article}

\usepackage{lipsum}                     % Texto dummy. Quitar en el documento final.

%-----------------------------------------------------------------------------------------------------
%	SELECCIÓN DEL LENGUAJE
%-----------------------------------------------------------------------------------------------------

% Paquetes para adaptar Látex al Español:
\usepackage[spanish,es-noquoting, es-tabla, es-lcroman]{babel} % Cambia
\usepackage[utf8]{inputenc}                                    % Permite los acentos.
\selectlanguage{spanish}                                       % Selecciono como lenguaje el Español.

%-----------------------------------------------------------------------------------------------------
%	SELECCIÓN DE LA FUENTE
%-----------------------------------------------------------------------------------------------------

% Fuente utilizada.
\usepackage{courier}                    % Fuente Courier.
\usepackage{microtype}                  % Mejora la letra final de cara al lector.

%-----------------------------------------------------------------------------------------------------
%	ESTILO DE PÁGINA
%-----------------------------------------------------------------------------------------------------

% Paquetes para el diseño de página:
\usepackage{fancyhdr}               % Utilizado para hacer títulos propios.
\usepackage{lastpage}               % Referencia a la última página. Utilizado para el pie de página.
\usepackage{extramarks}             % Marcas extras. Utilizado en pie de página y cabecera.
\usepackage[parfill]{parskip}       % Crea una nueva línea entre párrafos.
\usepackage{geometry}               % Asigna la "geometría" de las páginas.

% Se elige el estilo fancy y márgenes de 3 centímetros.
\pagestyle{fancy}
\geometry{left=3cm,right=3cm,top=3cm,bottom=3cm,headheight=1cm,headsep=0.5cm} % Márgenes y cabecera.
% Se limpia la cabecera y el pie de página para poder rehacerlos luego.
\fancyhf{}

% Espacios en el documento:
\linespread{1.1}                        % Espacio entre líneas.
\setlength\parindent{0pt}               % Selecciona la indentación para cada inicio de párrafo.

% Cabecera del documento. Se ajusta la línea de la cabecera.
\renewcommand\headrule{
	\begin{minipage}{1\textwidth}
	    \hrule width \hsize
	\end{minipage}
}

% Texto de la cabecera:
\lhead{\docauthor}                          % Parte izquierda.
\chead{}                                    % Centro.
\rhead{\subject \ - \doctitle}              % Parte derecha.

% Pie de página del documento. Se ajusta la línea del pie de página.
\renewcommand\footrule{
\begin{minipage}{1\textwidth}
    \hrule width \hsize
\end{minipage}\par
}

\lfoot{}                                                 % Parte izquierda.
\cfoot{}                                                 % Centro.
\rfoot{Página\ \thepage\ de\ \protect\pageref{LastPage}} % Parte derecha.

%-----------------------------------------------------------------------------------------------------
%   CONFIGURACIÓN DE LOS ENLACES
%-----------------------------------------------------------------------------------------------------

\usepackage{hyperref}

\hypersetup{
    colorlinks   = true,   % Quita las cajas y añade un color al texto.
    % Tipos de enlaces cuyo color se puede configurar:
    linkcolor    = cyan,        % Por defecto red
    anchorcolor  = gray,        % Por defecto black
    citecolor    = magenta,     % Por defecto green
    filecolor    = red,         % Por defecto cyan
    menucolor    = green,       % Por defecto red
    runcolor     = red,         % Por defecto cyan
    urlcolor     = cyan,        % Por defecto magenta
    allcolors    = cyan,        % Si se usa esta opción todos los enlaces de cualquier tipo adquieren el color dado.
}

%-----------------------------------------------------------------------------------------------------
%   CONFIGURACIÓN DE LA INCLUSIÓN DE CÓDIGO
%-----------------------------------------------------------------------------------------------------

% Paquetes para la insercción y el resaltado del código:
\usepackage[usenames,dvipsnames]{color} % Permite crear colores propios. Utilizado para el bg de Minted.
\usepackage{minted}                     % Insercción y resaltado de código con Minted.

\usemintedstyle{autumn}                      % Se elige el estilo para minted.
\definecolor{bg}{rgb}{0.95,0.95,0.95}        % Se define el color bg usado para bgcolor de Minted.
\renewcommand\listingscaption{Código}        % Se redefine el nombre dado a un bloque de código.
\renewcommand\listoflistingscaption{Códigos} % Se redefine el nombre dado a la lista de códigos.

%-----------------------------------------------------------------------------------------------------
%	PORTADA
%-----------------------------------------------------------------------------------------------------

% Elija uno de los siguientes formatos.
% No olvide incluir los archivos .sty asociados en el directorio del documento.
\usepackage{title1}
%\usepackage{title2}

%-----------------------------------------------------------------------------------------------------
%	TÍTULO, AUTOR Y OTROS DATOS DEL DOCUMENTO
%-----------------------------------------------------------------------------------------------------

% Título del documento.
\newcommand{\doctitle}{Tryton}
% Subtítulo.
\newcommand{\docsubtitle}{}
% Fecha.
\newcommand{\docdate}{1 \ de \ Enero \ de \ 2017}
% Asignatura.
\newcommand{\subject}{Diseño y desarrollo de sistemas de información}
% Autor.
\newcommand{\docauthor}{A. Herrera, M. Morales, M. Ruiz}
\newcommand{\docaddress}{Universidad de Granada}
\newcommand{\docemail}{}

%-----------------------------------------------------------------------------------------------------
%	RESUMEN
%-----------------------------------------------------------------------------------------------------

% Resumen del documento. Va en la portada.
% Puedes también dejarlo vacío, en cuyo caso no aparece en la portada.
%\newcommand{\docabstract}{}
\newcommand{\docabstract}{En este texto se introduce el ERP Tryton, un ERP open-source desarrollado en Python por la comunidad.}

\begin{document}

\maketitle

%-----------------------------------------------------------------------------------------------------
%	ÍNDICE
%-----------------------------------------------------------------------------------------------------

% Profundidad del Índice:
%\setcounter{tocdepth}{1}

\newpage
\tableofcontents
\newpage

%-----------------------------------------------------------------------------------------------------
%	SECCIÓN 1
%-----------------------------------------------------------------------------------------------------

\section{Introducción}

Tryton es un sistema de planificación de recursos empresariales escrito en Python. Su principal particularidad es que es open-source. En concreto, utiliza la licencia GPLv3, cuyas características son las siguientes \cite{gpl}:

\begin{itemize}
    \item Libertad para utilzar el software;
    \item Libertad para modificar el software;
    \item Libertal para compartir el software;
    \item Las modificaciones del software deben llevar licencia GPL.
\end{itemize}

Python es un lenguaje interpretado cuya máxima es que el código sea simple, conciso, legible, explícito y bonito. Estas máximas se transladan a Tryton. Otra característica importante de Tryton en la cual se hará un gran inciso a lo largo del trabajo es su modularidad. Dispone de multitud de módulos que se instalan por separado y permiten ampliar su funcionalidad. Gran parte de estos módulos se han desarrollado por la comunidad gracias a que Tryton es open-source. Además, la popularidad y eficiencia a la hora de programar de Python ha ayudado en este aspecto.

\section{Nota Histórica}

Tryton está basado en el framework Tiny 4.2, que era una solución de negocios ERP perteneciente a la empresa TinyERP. Esta empresa y su software pasó a llamarse OpenERP. Actualmente ambos se conocen como Odoo Dicha empresa desarrolla un sistema ERP Commercial Open Source Proyect (Proyecto de Código abierto comercial), esto es, el código es libre, pero es la empresa la que selecciona que mejoras se incorporan al proyecto.

Al crecer TinyERP en popularidad empezaron a desarrollarse numerosas mejoras por parte de las empresas colaboradoras. TinyERP SA decidió no integrar parte de estas mejoras, provocando el desarrollo paralelo de Tryton como un fork open-source de Tiny 4.2. Este nuevo proyecto pasó a estar totalmente desarrollado por la comunidad. Su primera versión apareció en Noviembre de 2008 \cite{que-es-tryton}.

A partir de 2012 las empresas Zikzakmedia y NaN-Tic pasan a estar detrás de Tryton en la entonces creada fundación Tryton, coordinando el desarrollo del proyecto, pero sin tomar decisiones sobre la funcionalidad a añadir \cite{zikzak}.

TRYTON FOUNDATION.

DECIR ALGO SOBRE LOS CONGRESOS DE TRYTON, TRYTON UNCONFERENCES
Unconferences typically feature open discussions rather than having a single
speaker at the front of the room giving a talk, although any format is permitted.
– Wikipedia
There has been four unconferences for now (Liège twice, Barcelona and
Leipzig).

%-----------------------------------------------------------------------------------------------------
%   SECCIÓN 2
%-----------------------------------------------------------------------------------------------------

\section{Descripción de la instalación}

Tryton se encuentra disponible para Windows, Mac OS, Linux Y OpenBSD \cite{descarga}. Antes de instalar Tryton es necesario tener instalado Python y la librería lxml, \emph{processing xml and html with Python} \cite{lxml} Esta librería permite tratar archivos \texttt{xml} y \texttt{html} con facilidad desde Python. Su utilidad reside en que tanto el servidor como el cliente oficial de Tryton han sido desarrollados en Python.

La instalación en Windows se reduce a ejecutar un archivo \texttt{.exe} y seguir las instrucciones. Consecuentemente nos centramos a desarrollar la instalación en Ubuntu, que es la distribución Linux más popular. En primer lugar hay que instalar lxml y todo su árbol de dependencias. Para ello ejecutamos las siguientes instrucciones en la terminal.

\begin{minted}[bgcolor=bg]{python}
sudo apt-get build-dep python3-lxml
sudo apt-get install python3-lxml
\end{minted}

En la documentación oficial de Tryton recomienda su instalación mediante pip. Pip es un gestor de paquetes de software que han sido desarrollados en Python.  Pip viene por defecto en cualquier distribución de Python. Antes de utilizarlo es conveniente actualizarlo. Posteriormente ya podemos instalar tanto el servidor de Tryton (\texttt{trytond}) como el cliente (\texttt{tryton-client}).

\begin{minted}[bgcolor=bg]{python}
sudo pip install -U pip # Actualizar pip
sudo pip install trytond
sudo pip install tryton-client
\end{minted}

Para ejecutar el servidor basta con utilizar el comando \texttt{trytond} en alguna terminal. De esta forma el servidor se encuentra escuchando en el puerto que se haya indicado en su archivo de configuración, \texttt{/etc/tryton/trytond.conf}. Previamente hay que configurar la base de datos que utilizará nuestro servidor de Tryton. Podemos utilizar PostgreSQL, SQLite o MySQL como base de datos, aunque en la documentación oficial se recomienda la primera de las tres. Por su parte SQLite suele utilizarse para pruebas o bases de datos simples. Tras crear una base de datos debemos indicar su localización y el mecanismo de acceso a Tryton. Esto se realiza en el archivo de configuración que ya hemos mencionado con anterioridad. Cabe destacar que Tryton puede funcionar con estas tres bases de datos gracias a que por debajo utiliza la librería \texttt{python-sql} para realizar las consultas SQL desde Python. Esta librería soporta múltiples bases de datos y, por tanto, el código en Python es independiente de la base de datos que se utilice.

El cliente que hemos instalado se puede iniciar desde la terminal mediante el comando \texttt{tryton-client}. La interfaz gráfica del cliente se ha implementado con Gtk+. Su uso es intuitivo y amigable.

Cabe destacar que existe un cliente de Tryton para navegadores web. El cliente en cuestión se llama sao y ha sido desarrollado en javascript. Además, utiliza la librería jQuery para realizar consultas y la librería Bootstrap para implementar la interfaz gráfica. La interfaz es moderna y minimalista dentro de lo que cabe. Para su instalación junto con Tryton referimos a \cite{sao}.

Por último, hay que explicar cómo se instalan los módulos de Tryton, que son una parte importante del ERP. Utilizando pip esto es muy sencillo, basta ejecutar el siguiente código

\begin{minted}[bgcolor=bg]{python}
sudo pip install tryton_NOMBRE_DEL_MODULO
\end{minted}

Posteriormente indicaremos cómo se clasifican los módulos de Tryton y dónde podemos encontrar un listado de los mismos.


%-----------------------------------------------------------------------------------------------------
%   SECCIÓN 3
%-----------------------------------------------------------------------------------------------------

\section{Funcionalidad de Tryton}

Tryton es un framework ERP con características similares a las que ofrecía Tiny, esto es, está desarrollado en Python y usa como base de datos principalmente PostgreSQL. Además, dicha plataforma de alto nivel está diseñada en tres capas (cliente Tryton, servidor Tryton y Base de Datos), ofreciendo una amplia funcionalidad mediante módulos. Los módulos presentes actualmente engloban las siguientes categorías \cite{tryton}:

\begin{itemize}
    \item Contabilidad
    \item Facturación
    \item Gestión de ventas
    \item Gestión de compras
    \item Contabilidad analítica
    \item Gestión de inventario
    \item Fabricación: Manufacturing Resource Planning (MRP)
    \item Gestión de proyectos
    \item Gestión de iniciativas y oportunidades
\end{itemize}

Dichas categorias a su vez incluyen una amplia gama de módulos (Todos los módulos pueden consultarse en \cite{modulos}).

Las funcionalidades que aporta son las siguientes:

persistencia de datos, extensa modularidad, administración de usuarios (autentificación, control detallado de acceso a los datos, manejo concurrente a recursos), flujos de trabajo y motores de reportes, servicios web e internacionalización.

Además de esto, tryton añade tres parámetros que lo diferencia de el resto de  los ERP:

\begin{itemize}
    \item Perfeccionismo. La Comunidad de Tryton presta gran atención a los pequeños detalles para hacer más fácil su uso 	diario.Esto lo consiguen a través de funcionalidades como la búsqueda global de términos en todos los registros de la aplicación, la gestión de registros históricos que permite disponer de cualquier información pasada como por ejemplo facturas, la conectividad con WebDAV y CalDAV para facilitar la organización de toda su estructura empresarial. Además otra de las funcionalidades estrella que facilitan esta facilidad de uso es que tryton tiene una documentación dinámica, es decir, la documentación estándar se adapta a cada cliente según las modificaciones particulares y los módulos instalados que este tenga.
    \item Evolución.  Tryton evoluciona y mejora  su producto con dos versiones anuales y facilita los cambios de versión integrando el código de las migraciones en el núcleo del programa.
    \item Conectividad. Tryton proporciona al cliente varias vias de acceso a su empresa, una de ellas es el acceso de cliente escritorio, también es posible acceder mediante un dispositivos Android y mediante su cliente web además de las  posibilidades que ofrece Nereid, un entorno que permite el desarrollo para aplicaciones web integradas directamente en el ERP sin necesidad de conectores ni sincronización.
\end{itemize}

Para finalizar esta sección veremos que ventajas ofrece Tryton respecto de su competidor mas directo, Odoo.

Como ya hemos comentado, Tryton esta desarrollado por la comunidad, sin embargo, Odoo es código libre comercial. 
En cuanto a la gestión de los repositorios, Tryton dispone de un repositorio por módulo mientras que Odoo cuenta con un repositorio para los módulos oficiales, mientras que los módulos comunitarios se mantienen en los repositorios de sus respectivos autores.
Una de las grandes ventajas que ofrece Tryton respecto a su competidor es que este te ofrece las actualizaciones/migraciones de forma automática mientras que Odoo solo lo hace previo contrato de manteniento como servicio.
Otra ventaja que aporta Tryton es que este aunque usualmente trabaje con PostgreSQL también soporta MySQL y SQLite, mientras que Odoo solo soporta PostgreSQL.



%-----------------------------------------------------------------------------------------------------
%   SECCIÓN 4
%-----------------------------------------------------------------------------------------------------

\section{Ventajas e inconvenientes encontrados durante la prueba}

Ventajas:

\begin{itemize}
    \item Es open-source.
    \item Está desarrollado en Python.
    \item Es modular. Este hecho junto con las ventajas anteriores facilita el desarrollo de extensiones o módulos por parte de los usuarios.
    \item Su estructura es parecida a la de Django, presentando una mayor escalabilidad que su competencia directa, Odoo u OpenERP.
    \item Facilidad de migración entre versiones.
    \item En la filosofía del proyecto se encuentra crear librerías de Python para determinadas funciones si estas no existen: python-sql, GooCalendar...
\end{itemize}

Problemas:

\begin{itemize}
    \item El gran número de módulos hace difícil que todos los clientes de un servidor utilicen los mismos módulos.
    \item La total libertad para desarrollar dificulta un desarrollo coherente y ordenado del proyecto.
    \item La revisión del código desarrollado puede no ser suficiente.
    \item El soporte no es tan amplio como en otros ERP, aunque sí es suficiente.
\end{itemize}

%-----------------------------------------------------------------------------------------------------
%   SECCIÓN 5
%-----------------------------------------------------------------------------------------------------

\section{Empresas que le dan soporte}

Tryton presenta un gran soporte comunitario, pero además es respaldado por varias compañías que proveen servicios profesionales:
B2CK, incore, Leuchter Open Source Solutions, MBSolutions, NaN-tic, OPDevel, Openlabs Technologies  \& Consulting (P) Limited, SISalp, Soluciones de Inteligencia de Mercados, Thymbra,
Virtual Things, Zikzakmedia.(\url{http://www.tryton.org/es/servicios.html})

%-----------------------------------------------------------------------------------------------------
%   SECCIÓN 6
%-----------------------------------------------------------------------------------------------------

\section{Empresas que lo han implantado}
Como ejemplo de empresas que han implantado Tryton podemos nombrar Zona Franca, ColomTel,10ENLACE, MOTOPROMET,Turesandes,H\&B Negocios y Suministros, MECATRONIC, Ibo Consultorias, etc.
(\url{http://www.presik.com})

\begin{thebibliography}{99}
\bibitem{que-es-tryton} Qué es Tryton, Open ERP Spain \url{http://openerpspain.com/que-es-tryton/}.
\bibitem{tryton} Página web oficial de Tryton, \url{https://www.tryton.org/es/}.
\bibitem{zikzak} Zikzakmedia - Tryton, \url{http://www.zikzakmedia.com/es/tryton.html}.
\bibitem{modulos} Módulos de Tryton, \url{https://pypi.python.org/pypi?:action=browse&show=all&c=551}.
\bibitem{gpl} A Quick Guide to GPLv3, GNU Operating System \url{https://www.gnu.org/licenses/quick-guide-gplv3.html}.
\bibitem{lxml} lxml, \url{http://lxml.de/}.
\bibitem{descarga} Descarga de Tryton, \url{http://www.tryton.org/es/descarga.html}.
\bibitem{sao} Tryton ERP installation with sao on Ubuntu, VapoRizer, \url{http://stackoverflow.com/questions/41144739/tryton-erp-installation-with-sao-on-ubuntu}.
\bibitem{openerp2tryton} OpenERP to Tryton, \url{www.openerp2tryton.com}.
\bibitem{openexpo}OpenExpo \url{http://www.openexpo.es/tryton-la-experiencia-aplicada-al-erp/}
\bibitem{wikipedia}Comparativa Tryton OpenERP \url{https://es.wikipedia.org/wiki/Anexo:Comparaci%C3%B3n_entre_Tryton_y_OpenERP#cite_note-2}
\end{thebibliography}
\end{document}
